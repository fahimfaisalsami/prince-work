<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% if form.instance.pk %}Edit{% else %}Create{% endif %} Office Expense</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f8ff;
            padding: 20px;
        }
        h1 {
            color: #4CAF50;
            text-align: center;
        }
        form {
            max-width: 500px;
            margin: auto;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input, select, textarea, button {
            width: 100%;
            padding: 8px;
            margin: 8px 0 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>{% if form.instance.pk %}Edit{% else %}Create{% endif %} Office Expense</h1>

    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        
        {{ form.date.label_tag }} {{ form.date }}
        {{ form.description.label_tag }} {{ form.description }}
        {{ form.quantity.label_tag }} {{ form.quantity }}
        {{ form.uom.label_tag }} {{ form.uom }}
        {{ form.unit_price.label_tag }} {{ form.unit_price }}
        {{ form.total.label_tag }} {{ form.total }}
        {{ form.note.label_tag }} {{ form.note }}

        <button type="submit">Save</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const quantityInput = document.querySelector('#id_quantity');
            const unitPriceInput = document.querySelector('#id_unit_price');
            const totalInput = document.querySelector('#id_total');

            function calculateTotal() {
                const quantity = parseFloat(quantityInput.value) || 0;
                const unitPrice = parseFloat(unitPriceInput.value) || 0;
                const total = quantity * unitPrice;
                totalInput.value = total.toFixed(2); // sets total with 2 decimal points
            }

            quantityInput.addEventListener('input', calculateTotal);
            unitPriceInput.addEventListener('input', calculateTotal);
        });
    </script>
</body>
</html>
